# Marvel Mods GIMP Plugins
by BaconWizard17
## Export Conversation Portrait (HUD)
This plugin exports a conversation portrait (HUD) texture in several optimized formats.

### Compatibility
This script will only work correctly if the image has been saved as a .xcf file. The texture should be square. My templates are recommended for use, as they contain the correct layer names. See the "Templates" section for more information. The portrait should not have any outline, as this will be generated by the script.

### Installation
 1. This script can be installed using `update.bat` from the main folder of this release, or it can be placed individually in your GIMP plugins directory. The standard location for this is `C:\Users\(your user)\AppData\Roaming\GIMP\2.10\plug-ins`. Check the main `README.md` file in this project for more details on proper installation.

### Usage
1. Start with an image open in GIMP that you would like to export. See the "Compatibility" section above for details on the image type.
2. In the toolbar, go to `Marvel Mods/Export Textures/By Asset Type` and choose the `Export Conversation Portrait (HUD)` plugin.
3. You will be presented with a series of options:
	- **Console**: Select which console you will be using. `All` will export to all available consoles based on later suggestions, while `PC Only` will export textures for PC only
	- **Export a Plain Portrait?**: Select if you want to export a plain portrait with no outline.
	- **Export an MUA1 next-gen style portrait?**: Select if you want to export a portrait in the style of next-gen MUA1 (transparent background and no frame)
	- **Export a portrait with a hero outline?**: Select if you want to export a portrait with a typical blue outline.
	- **Export a portrait with a red villain outline?**: Select if you want to export a portrait with a red outline, denoting that they are a villain.
	- **Export a portrait with a green villain outline?**: Select if you want to export a portrait with a green outline, denoting that they are possessed by Doctor Doom.
	- **Alchemy Version**: Select the version of Alchemy being used. Select `Alchemy 2.5` if you're exporting portraits in 3ds Max 5 with the Alchemy 2.5 export plugin. Select `Alchemy 5` if you're creating portraits with the [Alchemy 5 Texture Replacement Method](https://marvelmods.com/forum/index.php/topic,11009.0.html).
4. If the file is not set up properly, you will receive an error with explanations. Otherwise, it will move on.
5. The .xcf will be saved and several additional operations will be run while the texture is being exported to the various folders in different formats. The operations will depend on the options selected. Textures that are the same will be grouped together. See below for a list of the texture types that will be exported for each console. 
6. This script creates duplicate images to export, so you will not see any changes on your texture. Wait for the status bar to finish before proceeding with any further operations to your texture. Once it's done running, a message will announce that the export is complete.

## Export Types
 - **Next-Gen Style**:
    - **MUA1 PC**: The texture will export as a plain png texture. 
    - **XML2 PC**: The texture will export as a plain png texture. 
	- **Steam**: The texture will export as a plain png texture. 
    - **GameCube**: The texture will export as a plain png texture with a maximum size of 128x128. 
    - **PS2**: The texture will export as a plain png texture with a maximum size of 128x128.
	- **PS3**: The texture will export as a plain png texture. 
    - **PSP**: The texture will export as a plain png texture with a maximum size of 64x64. 
    - **Wii**: The texture will export as a plain png texture with a maximum size of 128x128.
    - **Xbox**: The texture will export as a plain png texture with a maximum size of 128x128.
    - **Xbox 360**: The texture will export as a plain png texture. 
 - **All others**:
    - **MUA1 PC**: The texture format will depend on the size of the image. If the texture is over 128x128, it will export as an RGB-BGR swapped DXT1 .dds texture. If the texture is 128x128 or smaller, it will export as a PNG8 texture. 
    - **XML2 PC**: The texture format will depend on the size of the image. If the texture is over 128x128, it will export as an RGB DXT1 .dds texture. If the texture is 128x128 or smaller, it will export as a PNG8 texture. 
	- **Steam**: The texture will export as an RGB-BGR swapped DXT1 .dds texture.
    - **GameCube**: The texture will export as a PNG8 texture with a maximum size of 128x128. 
    - **PS2**: The texture will export as a PNG8 texture with a maximum size of 128x128. 
	- **PS3**: The texture will export as an RGB-BGR swapped DXT1 .dds texture.
    - **PSP**: The texture will export as a PNG8 texture with a maximum size of 64x64. 
    - **Wii**: The texture will export as an RGB DXT1 .dds texture with a maximum size of 128x128.
    - **Xbox**: The texture will export as a PNG8 texture with a maximum size of 128x128.
    - **Xbox 360**: The texture format will depend on the size of the image. If the texture is over 128x128, it will export as an RGB-BGR swapped DXT1 .dds texture. If the texture is 128x128 or smaller, it will export as a PNG8 texture. 
 - The export types above are for the Alchemy 2.5 option. The Alchemy 5 option will export the same resolutions, but the files will be .tga files. GameCube, PS2 (except for MUA2), Xbox, and XML2 PC are not supported by Alchemy 5 and will be skipped.

## Templates
In order for the script to function correctly, I've provided three templates that can be used with it: `Template (64x64).xcf`, `Template (128x128).xcf`, and `Template (256x256).xcf`. The only difference between each is the texture size. Here's how to use the templates:
1. Open the template that you want to use in GIMP. Save it as something else so that you always have the templates available. The file name doesn't matter.
2. The layer with an example images in them (90s Cyclops) can be cleared out, but keep the layers themselves so that you can have the correct names.
3. Copy the character's portrait into the layer called "Character." Orient it however you want. The guides can be used as a reference.
    - The top horizontal guide is where I usually have the character's eyes.
	- The bottom horizontal guide is where I usually have the character's chin.
	- The vertical guide is the center line.
4. There should be 3 layers:
    - **Frame**: The top layer that is all black on the edges with a circular cutout in the middle.
	- **Character**: The character's portrait.
	- **Background**: The background image. By default, this is the diamond plate pattern used by MUA1 portraits.

## Credits
- BaconWizard17: Script creation